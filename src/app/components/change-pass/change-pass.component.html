
<div class="wrapper">

  <form action="#" [formGroup]="form" (ngSubmit)="onSubmit()">

    <div class="field-rows">
      <div class="form-field">
        <mat-form-field class="max-length">
          <mat-label>Старый пароль</mat-label>
          <input type="password" matInput id="oldPsw" class="form-control" placeholder="Старый пароль" formControlName="oldPsw" required>
          <mat-error *ngIf="form.get('oldPsw')?.errors?.required && form.get('oldPsw')?.invalid && (form.get('oldPsw')?.touched)">
            Введите старый пароль.
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-field">
        <mat-form-field class="max-length">
          <mat-label>Новый папроль</mat-label>
          <input  type="password" matInput id="newPsw" class="form-control" placeholder="Новый пароль" formControlName="newPsw" required>
          <mat-error *ngIf="form.get('newPsw')?.errors?.required && form.get('newPsw')?.invalid && (form.get('newPsw')?.touched)">
            Введите новый пароль.
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-field">
        <mat-form-field class="max-length">
          <mat-label>Повторите пароль</mat-label>
          <input  type="password" matInput id="repeatPsw" class="form-control" placeholder="Повторите пароль" formControlName="repeatPsw" required>
          <mat-error *ngIf="form.get('repeatPsw')?.errors?.required && form.get('repeatPsw')?.invalid && (form.get('repeatPsw')?.touched)">
            Повторите пароль.
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-errors">
        <mat-error *ngIf="form.errors && (form.get('repeatPsw')?.touched) && form.get('newPsw')?.touched">
          Пароли не совпадают
        </mat-error>
      </div>

      <div class="command-panel">
        <button [disabled]="form.invalid" class="max-length" type="submit" mat-stroked-button color="primary">Выполнить</button>
      </div>

    </div>

  </form>

</div>
